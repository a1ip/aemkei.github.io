<meta charset="utf-8">

<style>
  body { word-wrap: break-word;}

  canvas, textarea, tt {
    float: left;
    width: 400px;
    margin-right: 20px
  }

  textarea {
    height: 160px
  }

</style>


<textarea id=s></textarea>

<tt id=code></tt>

<script type="demo">i=setInterval(unescape('document.body.style.backgroundColor%3D0%3Bdocument.body.style.color%3D%22%230FF%22%3Bdocument.body.innerHTML%3D%28%22%3Cpre%3E%26lt%3Bscript%3E%20%20%20%22+%20document.head.textContent+%22%26lt%3B/script%3E%22%29.replace%28/.%uFFA0/g%2Cx%3D%3E%60%3Cb%20style%3D%22color%3A%24%7B%5B%22%23FFF%22%2C%22%23F0F%22%2C%22%23F0F%22%5D%5Bi++%258%5D%7C%7C%22%230F0%22%7D%22%3E%24%7Bx%7D%3C/b%3E%60%29'),50)</script>


<script type="bootstrap">
/E/[E=""],M='"',t=E==E,f=E==M,T=t+E,L=f+E,Z=+E,A=+t,O={},B=A+A,C=B+A,H=B+C,O=E+O,n=T.L+O,n=n[A],t=T[Z],r=T[A],c=O[H],u=T[B],o=O[A],s=L[C],e=T[C],a=L[A],W="\\)(",S=W[Z],k=W[B],l=W[A],K=r+e+t+u+r+n+" ",P=c+o+n+s+t+r+u+c+t+o+r,X=P[P][P],X(X(K+M+X(K+X(K+M+u+n+e+s+c+a+(p=S+A+(C+C)+Z)+e+k+e+s+c+a+p+e+k+"'###'"+l+"."+r+e+p+S+A+H+(B+B)+a+c+e+k+"/"+u+".{"+(C+H)+"}/"+S+A+(B+B)+(H+B)+",''"+l+l+M)())()+M)())()

</script>

<script>

bootstrap = document.querySelector('script[type=bootstrap]').innerHTML;


alphabet = [];

c = 0;

suffi = '';

for (i = 65; i < 122; i++) {
  input = String.fromCharCode(i);

  if (
    !(i > 90 && i<97) &&
    bootstrap.match(input)
  ) {
    suffi += '\u200C';
    output = '\uFFA0' + suffi;
    bootstrap = bootstrap.split(input).join(output);
    alphabet.push(output);
  }
}
console.log('alphabet', alphabet)


f = s.oninput = function(){



  o = s.value.replace(/[\x00-\x7f]/g,(a)=>{return String.fromCodePoint(a.charCodeAt(0) + 0xE0100)});

  console.log(s.value);
  console.log("\"'" + o + "'\"");

  console.log(`eval(unescape(escape('${output} ').replace(/u.{8}/g,'')))`);

  o = bootstrap.replace('###', o);

  console.log(o);


  script = "<script>" + o + "</"+"script>";
  script = ";" + o + ";";

  console.log(
    script
  )

  code.innerText = script;

}

s.value = document.querySelector('script[type=demo]').innerHTML;

f();

</script>
